<div class="container">
  <main>
    <div class="py-5 text-center">
      <label for="avatarField" style="cursor: pointer;">
        <img class="d-block rounded-circle mx-auto mb-4"
          [src]="(form.value.avatar ? form.value.avatar : './assets/img/avatar-placeholder.jpg')" alt="Avatar"
          width="128" height="128">
      </label>
      <h2>Profile</h2>
      <p class="lead">Fill up data about yourselft.</p>
      <button type="button" class="btn btn-danger" (click)="logout()">Logout</button>
      <button type="button" class="btn btn-danger" (click)="deleteProfile()">Delete account</button>
      <a routerLink="/projects" class="btn btn-primary">My projects</a>
      <a *ngIf="profile?.roles?.includes('admin')" routerLink="/users" class="btn btn-primary">Users</a>
    </div>

    <div class="row g-5">
      <div class="col-12">
        <form class="needs-validation" (ngSubmit)="save()" [formGroup]="form">
          <div class="row g-3">
            <div class="col-sm-6">
              <input type="file" formControlName="avatar"
                [propertyspacesInputFileReader]="{compress: true, maxWidth: 128, maxHeight: 128}" class="d-none"
                name="avatarField" id="avatarField">
              <label class="input">
                <input formControlName="firstName" type="text" class="input__field" maxlength="60" placeholder=" " />
                <span class="input__label">First Name<sup>*</sup> </span>
              </label>
            </div>

            <div class="col-sm-6">
              <label class="input">
                <input formControlName="lastName" type="text" class="input__field" maxlength="60" placeholder=" " />
                <span class="input__label">Last Name<sup>*</sup> </span>
              </label>
            </div>

            <div class="col-12">
              <label class="input">
                <input formControlName="phone" type="phone" class="input__field" maxlength="12" placeholder=" " />
                <span class="input__label">Phone<sup>*</sup> </span>
              </label>
            </div>
          </div>

          <button class="w-100 btn btn-primary btn-lg" [disabled]="form.invalid" type="submit">Save</button>
        </form>
      </div>
    </div>
  </main>
</div>
